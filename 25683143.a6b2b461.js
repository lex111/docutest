/*! For license information please see 25683143.a6b2b461.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{128:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return b})),t.d(n,"default",(function(){return p}));var r=t(1),a=t(6),i=(t(0),t(239)),o=t(242),l=t(243),s={title:"Versioning"},c={id:"version-2.0.0-alpha.39/versioning",title:"Versioning",description:"You can use the version script to cut a new documentation version based on the latest content in the `docs` directory. That specific set of documentation will then be preserved and accessible even as the documentation in the `docs` directory changes moving forward.",source:"@site/versioned_docs/version-2.0.0-alpha.39/versioning.md",permalink:"/docs/2.0.0-alpha.39/versioning",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/versioned_docs/version-2.0.0-alpha.39/versioning.md",version:"2.0.0-alpha.39",lastUpdatedBy:"Endi",lastUpdatedAt:1575699124,sidebar:"version-2.0.0-alpha.39/docs",previous:{title:"Sidebar",permalink:"/docs/2.0.0-alpha.39/sidebar"},next:{title:"Blog",permalink:"/docs/2.0.0-alpha.39/blog"}},b=[{value:"\u26a0\ufe0f Disclaimer",id:"\ufe0f-disclaimer",children:[]},{value:"Directory structure",id:"directory-structure",children:[{value:"Tagging a new version",id:"tagging-a-new-version",children:[]}]},{value:"Files",id:"files",children:[{value:"Creating new files",id:"creating-new-files",children:[]},{value:"Linking files",id:"linking-files",children:[]}]},{value:"Versions",id:"versions",children:[{value:"Updating an existing version",id:"updating-an-existing-version",children:[]},{value:"Deleting an existing version",id:"deleting-an-existing-version",children:[]}]},{value:"Recommended practices",id:"recommended-practices",children:[{value:"Version your documentation only when needed",id:"version-your-documentation-only-when-needed",children:[]},{value:"Keep the number of versions small",id:"keep-the-number-of-versions-small",children:[]},{value:"Use absolute import within the docs",id:"use-absolute-import-within-the-docs",children:[]}]}],d={rightToc:b},u="wrapper";function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)(u,Object(r.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"You can use the version script to cut a new documentation version based on the latest content in the ",Object(i.b)("inlineCode",{parentName:"p"},"docs")," directory. That specific set of documentation will then be preserved and accessible even as the documentation in the ",Object(i.b)("inlineCode",{parentName:"p"},"docs")," directory changes moving forward."),Object(i.b)("h2",{id:"\ufe0f-disclaimer"},"\u26a0\ufe0f Disclaimer"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Consider it really well before starting to version your documentation.")),Object(i.b)("p",null,"Most of the times, you don't need versioning and it will just increase your build time and introduces complexity to your codebase. Versioning is ",Object(i.b)("strong",{parentName:"p"},"best suited for website with high-traffic and rapid changes in documentation between version"),". If your documentation rarely changes, don't version."),Object(i.b)("p",null,"To better understand how versioning works and see if it suits your needs, you can read up below."),Object(i.b)("h2",{id:"directory-structure"},"Directory structure"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"website\n\u251c\u2500\u2500 sidebars.json        # sidebar for master (next) version\n\u251c\u2500\u2500 docs                 # docs directory for master (next) version\n\u2502   \u251c\u2500\u2500 foo\n\u2502   \u2502   \u2514\u2500\u2500 bar.md       # https://mysite.com/docs/next/foo/bar\n\u2502   \u2514\u2500\u2500 hello.md         # https://mysite.com/docs/next/hello\n\u251c\u2500\u2500 versions.json        # file to indicate what versions are available\n\u251c\u2500\u2500 versioned_docs\n\u2502   \u251c\u2500\u2500 version-1.1.0\n\u2502   \u2502   \u251c\u2500\u2500 foo\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 bar.md   # https://mysite.com/docs/foo/bar\n\u2502   \u2502   \u2514\u2500\u2500 hello.md\n\u2502   \u2514\u2500\u2500 version-1.0.0\n\u2502       \u251c\u2500\u2500 foo\n\u2502       \u2502   \u2514\u2500\u2500 bar.md   # https://mysite.com/docs/1.0.0/foo/bar\n\u2502       \u2514\u2500\u2500 hello.md\n\u251c\u2500\u2500 versioned_sidebars\n\u2502   \u251c\u2500\u2500 version-1.1.0-sidebars.json\n\u2502   \u2514\u2500\u2500 version-1.0.0-sidebars.json\n\u251c\u2500\u2500 docusaurus.config.js\n\u2514\u2500\u2500 package.json\n")),Object(i.b)("p",null,"The table below explains how a versioned file maps to its version and the generated URL."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Path"),Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Version"),Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"URL"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"versioned_docs/version-1.0.0/hello.md")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"1.0.0"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"/docs/1.0.0/hello")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"versioned_docs/version-1.1.0/hello.md")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"1.1.0 (latest)"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"/docs/hello")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"docs/hello.md")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"next"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"/docs/next/hello")))),Object(i.b)("h3",{id:"tagging-a-new-version"},"Tagging a new version"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"First, make sure your content in the ",Object(i.b)("inlineCode",{parentName:"li"},"docs")," directory is ready to be frozen as a version. A version always should be based from master."),Object(i.b)("li",{parentName:"ol"},"Enter a new version number.")),Object(i.b)(o.a,{defaultValue:"npm",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"npm",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"npm run docusaurus docs:version 1.1.0\n"))),Object(i.b)(l.a,{value:"yarn",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"yarn run docusaurus docs:version 1.1.0\n")))),Object(i.b)("p",null,"When tagging a new version, the document versioning mechanism will:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Copy the full ",Object(i.b)("inlineCode",{parentName:"li"},"docs/")," folder contents into a new ",Object(i.b)("inlineCode",{parentName:"li"},"versioned_docs/version-<version>/")," folder."),Object(i.b)("li",{parentName:"ul"},"Create a versioned sidebars file based from your current ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/2.0.0-alpha.39/sidebar"}),"sidebar")," configuration (if it exists). Saved it as ",Object(i.b)("inlineCode",{parentName:"li"},"versioned_sidebars/version-<version>-sidebars.json"),"."),Object(i.b)("li",{parentName:"ul"},"Append the new version number into ",Object(i.b)("inlineCode",{parentName:"li"},"versions.json"),".")),Object(i.b)("h2",{id:"files"},"Files"),Object(i.b)("h3",{id:"creating-new-files"},"Creating new files"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Place the new file into the corresponding version folder."),Object(i.b)("li",{parentName:"ol"},"Include the reference for the new file into the corresponding sidebar file, according to version number.")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Master docs")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"# The new file.\ndocs/new.md\n\n# Edit the corresponding sidebar file.\nsidebar.js\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Older docs")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"# The new file.\nversioned_docs/version-1.0.0/new.md\n\n# Edit the corresponding sidebar file.\nversioned_sidebars/version-1.0.0-sidebars.json\n")),Object(i.b)("h3",{id:"linking-files"},"Linking files"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Remember to include the ",Object(i.b)("inlineCode",{parentName:"li"},".md")," extension."),Object(i.b)("li",{parentName:"ul"},"Files will be linked to correct corresponding version."),Object(i.b)("li",{parentName:"ul"},"Relative paths work as well.")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-md"}),"The [@hello](hello.md#paginate) document is great!\n\nSee the [Tutorial](../getting-started/tutorial.md) for more info.\n")),Object(i.b)("h2",{id:"versions"},"Versions"),Object(i.b)("p",null,"Each directory in ",Object(i.b)("inlineCode",{parentName:"p"},"versioned_docs/")," will represent a documentation version."),Object(i.b)("h3",{id:"updating-an-existing-version"},"Updating an existing version"),Object(i.b)("p",null,"You can update multiple docs versions at the same time. Because each directory in ",Object(i.b)("inlineCode",{parentName:"p"},"versioned_docs/")," represents specific routes when published."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Edit any file."),Object(i.b)("li",{parentName:"ol"},"Commit and push changes."),Object(i.b)("li",{parentName:"ol"},"It will be published to the version.")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," When you change any file in ",Object(i.b)("inlineCode",{parentName:"p"},"versioned_docs/version-2.6/"),", it will only affect the docs for version ",Object(i.b)("inlineCode",{parentName:"p"},"2.6"),"."),Object(i.b)("h3",{id:"deleting-an-existing-version"},"Deleting an existing version"),Object(i.b)("p",null,"You can delete/remove versions as well."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Remove the version from ",Object(i.b)("inlineCode",{parentName:"li"},"versions.json"),".")),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-diff",metastring:"{4}","{4}":!0}),'[\n  "2.0.0",\n  "1.9.0",\n- "1.8.0"\n]\n')),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Delete the versioned docs directory. Example: ",Object(i.b)("inlineCode",{parentName:"li"},"versioned_docs/version-1.8.0"),"."),Object(i.b)("li",{parentName:"ol"},"Delete the versioned sidebars file. Example: ",Object(i.b)("inlineCode",{parentName:"li"},"versioned_sidebars/version-1.8.0-sidebars.json"),".")),Object(i.b)("h2",{id:"recommended-practices"},"Recommended practices"),Object(i.b)("h3",{id:"version-your-documentation-only-when-needed"},"Version your documentation only when needed"),Object(i.b)("p",null,"For example, you are building a documentation for your npm package ",Object(i.b)("inlineCode",{parentName:"p"},"foo")," and you are currently in version 1.0.0. You then release a patch version for a minor bug fix and it's now 1.0.1."),Object(i.b)("p",null,"Should you cut a new documentation version 1.0.1? ",Object(i.b)("strong",{parentName:"p"},"You probably shouldn't"),". 1.0.1 and 1.0.0 docs shouldn't differ according to semver because there are no new features!. Cutting a new version for it will only just create unnecessary duplicated files."),Object(i.b)("h3",{id:"keep-the-number-of-versions-small"},"Keep the number of versions small"),Object(i.b)("p",null,"As a good rule of thumb, try to keep the number of your versions below 10. ",Object(i.b)("strong",{parentName:"p"},"It is very likely")," that you will have a lot of obsolete versioned documentation that nobody even reads anymore. For example, ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://jestjs.io/versions"}),"Jest")," is currently in version ",Object(i.b)("inlineCode",{parentName:"p"},"24.9"),", and only maintains several latest documentation version with the lowest being ",Object(i.b)("inlineCode",{parentName:"p"},"22.X"),". Keep it small \ud83d\ude0a"),Object(i.b)("h3",{id:"use-absolute-import-within-the-docs"},"Use absolute import within the docs"),Object(i.b)("p",null,"Don't use relative paths import within the docs. Because when we cut a version the paths no longer work (the nesting level is different, among other reasons). You can utilize the ",Object(i.b)("inlineCode",{parentName:"p"},"@site")," alias provided by docusaurus, that points to the ",Object(i.b)("inlineCode",{parentName:"p"},"website")," directory. Example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-diff"}),"- import Foo from '../src/components/Foo';\n+ import Foo from '@site/src/components/Foo';\n")))}p.isMDXComponent=!0},239:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return h}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),b=function(e){var n=a.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l({},n,{},e)),t},d=function(e){var n=b(e.components);return a.a.createElement(c.Provider,{value:n},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},m=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=b(t),u=r,m=d["".concat(o,".").concat(u)]||d[u]||p[u]||i;return t?a.a.createElement(m,l({ref:n},c,{components:t})):a.a.createElement(m,l({ref:n},c))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},240:function(e,n,t){var r;!function(){"use strict";var t={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var l in r)t.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(n,[]))||(e.exports=r)}()},242:function(e,n,t){"use strict";var r=t(0),a=t.n(r),i=t(240),o=t.n(i),l=t(88),s=t.n(l);const c={left:37,right:39};n.a=function(e){const{block:n,children:t,defaultValue:i,values:l}=e,[b,d]=Object(r.useState)(i),u=[];return a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:o()("tabs",{"tabs--block":n})},l.map(({value:e,label:n})=>a.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":b===e,className:o()("tab-item",s.a.tabItem,{"tab-item--active":b===e}),key:e,ref:e=>u.push(e),onKeyDown:e=>((e,n,t)=>{switch(t.keyCode){case c.right:((e,n)=>{const t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()})(e,n);break;case c.left:((e,n)=>{const t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()})(e,n)}})(u,e.target,e),onFocus:()=>d(e),onClick:()=>d(e)},n))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},r.Children.toArray(t).filter(e=>e.props.value===b)[0]))}},243:function(e,n,t){"use strict";var r=t(0),a=t.n(r);n.a=function(e){return a.a.createElement("div",null,e.children)}}}]);